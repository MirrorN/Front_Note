## 4切图 & 案例

### 切图

#### 1.常见图片格式

- jpg：（JPEG）色彩比较好，高清，颜色较多，产品类图片一般用jpg
- gif：只能存储256色，用于显示简单图形，可以保留透明和动画效果
- png：可以保持透明背景
- psd：PS专用格式（设计稿文件），可以直接复制文字，可以测量大小距离





### 2.定位

定位：按照定位方式移动盒子

定位 = 定位模式 + 边偏移

- 定位模式：指定一个元素在文档中的定位方式
- 边偏移：决定该元素的最终位置



####  定位模式

定位模式决定元素的定位方式，通过 position 属性来设置：

- static： 静态定位
- relative：相对定位
- absolute： 绝对定位
- fixed ： 固定定位



#### 边偏移

边偏移指定位的盒子移动到的最终位置，属性有：

- top：顶端偏移量，定义元素相对于其父元素上边线的距离

  ```
  top: 80px
  ```

- bottom: 底部偏移量，定义元素相较于父元素下边线的距离

  ```
  bottom: 80px
  ```

- left： 左侧偏移量，定义元素相对于父元素左边线的距离

  ```
  left: 80px
  ```

- right: 右侧偏移量，定义元素相对于其父元素右边线的距离

  ```
  right: 80px
  ```

这四个属性只有定位才有，标准流的元素没有这四个属性。



#### 静态定位 static（了解）

- 元素的默认定位方式，其按照标准流特性摆放位置，没有边偏移
- 静态定位在布局的时候很少用到



#### 相对定位（重点）

```
.class_a{
  position: relative;
}
```

特点：

1. 相对于原来自己的位置进行移动（移动位置的时候参照点是自己原来的位置）
2. 原来在标准流的位置继续占有，后面的盒子**依然以标准流的方式对待它**（不脱离标准流，继续保留原来的位置）
3. 最大的作用是用来**限制绝对定位**



#### 绝对定位（重要）



绝对定位参照父元素移动定位

```
.class_a{
   position: absolute;
}
```



绝对定位的特点：

1. 如果元素没有

   1. 祖先元素
   2. 祖先元素没有设置定位

   则以浏览器以 Document文档 为准进行定位。
   
2. 如果祖先元素设置了定位（**相对，绝对，固定定位**【不包含静态定位】），那么以 **最近一级设置定位的祖先元素** （如果直接父元素没有设置定位属性，则会逐层向上寻找设置了定位的父元素进行设置）作为参考点移动位置

3. 绝对定位不再占有原来的位置（脱离标准流）





#### 绝对定位和相对定位的应用场景

**子绝父相**：子元素使用绝对定位的话，父元素要使用相对定位

1. 子元素使用绝对定位，目的资源不占用位置，可以放在父元素中的任意一个位置，不会影响到其他兄弟元素；
2. 父盒子需要设置定位才能限制子元素在父元素内显示；
3. 父元素布局的时候需要占有位置，才不会打乱其他元素的布局

因此：**父元素需要占有位置->相对定位， 子元素不需要占有位置 -> 绝对定位**

（特殊情况下，也会变化定位关系）



#### 固定定位（重要）

固定定位将元素定于浏览器可视区的固定位置，可以在浏览器页面滚动的时候保持元素位置不变。

语法：

```
.class_a{
  position: fixed;
}
```

固定定位的特点：

1. 固定定位参照可视窗口进行元素移动
   1. 可视窗口是只当前可见的浏览器窗口区域，（浏览器页面缩小的话也会随之缩小）
   2. 固定定位跟父元素没有关系
   3. 不随滚动条变化而变化
2. 固定定位不占有原来位置
3. 固定定位是脱离标准流的（固定定位可以看作是一种特殊的绝对定位）



**固定到版心某一侧的方法**

算法：

1. 让固定定位的盒子 left：50%  走到可视区的中心（版心一半）的位置
2. 让固定定位的盒子 margin-let : 版心宽度的一半距离（从页面中心出发，夺走版心宽度一半的距离）
3. 注意不要只设置 left 属性，需要**指定上下距离**



#### 粘性定位（了解）

粘性定位 stcky 可以看作是相对定位和固定定位的混合

语法：

```
.class_a{
	position: sticky;
	top: 10px;
}
```

粘性定位的特点：

1. 粘性定位以浏览器的可视化窗口作为参照点移动元素（固定定位的特点）
2. 奶粘性定位占有原来的位置（相对定位的特点）
3. 必须添加 top left right 和 bottom 其中的一个才有效果
4. 兼容性较差

显示特点：

一开始显示特点是相对定位（可移动），到达一定位置后固定位置。



#### 定位总结

| 定位模式         | 上是否脱离标准流 | 移动位置                   | 是否常用 |
| ---------------- | ---------------- | -------------------------- | -------- |
| static静态定位   | 否               | 不能使用边偏移             | 很少使用 |
| relative相对定位 | 否               | 相对于自身原本的位置移动   | 常用     |
| absolute绝对定位 | 是（不占有位置） | 相对于带有定位的父元素移动 | 常用     |
| fixed固定定位    | 是（不占有位置） | 相对于浏览器可视区移动     | 常用     |
| sticky粘性定位   | 否（占有位置）   | 相对于浏览器可视区移动     | 少       |



#### 定位的叠放次序

使用定位继续宁布局的时候，可能会出现盒子重叠的情况，此时，可以使用 z-index 属性来控制合资的前后次序。

语法：

```
.class{
  z-index: 1;
}
```

注意：

1. 数值可以是正整数，负整数或者0，默认是auto，数值越大，盒子越靠上；
2. 如果属性值相同，则按照书写顺序，后来居上；
3. 数字后面不能加单位
4. 只有定位的盒子才有z-index属性



#### 定位盒子居中

对于定位的盒子，设置盒子页面居中的时候：

1. 设置 left 为页面的一半

   ```
   left: 50%
   ```

2. 设置 margin-left 向左移动宽度的一半

   ```
   margin-left: width/2
   ```

垂直居中：

1. 设置 top 属性为页面一半

   ```
   top: 50%
   ```

2. 设置 margin-top 向上移动盒子高度的一半：

   ```
   margin-top: width/2
   ```

   

#### 定位的特性

- 对于行内元素，设置定位和浮动后，行内元素可以直接设置高度和宽度
- 对于块级元素，设置定位和浮动后，如果不设置高度和宽度，会根据内容大小进行空间占用
- 浮动元素和定位后的元素都不会触发外边距合并的问题
- 绝对定位（固定定位）会压住盒子，包括其下标准流所有的内容，例如文字
- **浮动元素只会压住盒子，但是不会压住下面标准流盒子里面的文字（图片）**
  - 浮动不会压住文字，这是因为浮动最开始产生的目的是做文字环绕效果，文字元素会围绕浮动元素。



#### 网页布局总结

网页布局构成：盒子模型 + 浮动/定位

1. 标准流：可以让盒子上下排列或者左右排列，垂直的块级盒子显示就用标准流进行布局
2. 浮动：可以让多个块级元素在一行显示或者左右对齐盒子，多个块级盒子水平先是就用浮动布局
3. 定位：最大的特点是层叠，实现多个盒子前后叠压进行实现，如果元素自由在某个盒子内移动就使用定位布局



### 2.元素的显示与隐藏

本质：让一个元素在页面中隐藏起来

#### display

display 属性可以用来设置一个元素如何显示

- display: none：用于隐藏对象  **（而且不占有原来的位置）**
- display: block: 除了设置转换为块级元素意外，同时还有显示元素的意思

以上两个属性经常配合 JS 进行网页特效制作

#### visibility

用于指定一个元素是隐藏或者显示：

- visibility: hidden： 元素隐藏 **（隐藏之后继续占有原来位置）**
- visibility: visible: 元素显示



以上两个属性中， display 用的更多（区别方法是元素是否占有原来的位置）

#### overflow

对溢出的元素进行隐藏或者显示，指定内容超出盒子的时候如何处理（默认是显示超出边框的内容）

- overflow: visible：默认属性（显示超出的内容）
- overflow: hidden: 隐藏超出的内容
- overflow: scroll：显示滚动条（不溢出的时候也会显示滚动条）
- overflow: auto： **在需要的时候添加滚动条**

一般用于限制盒子的内容不要显示过多文本，但是带有定位的元素慎用overflow属性（特定情况下，特意让某些元素超出盒子）



#### 元素隐藏与显示的案例

鼠标指针经过视频的时候，会显示黑色阴影。

核心原理：原来半透明的黑色遮罩看不见，鼠标经过大盒子就显示出来

遮罩的盒子不占有位置：使用绝对定位和 display 

几个注意点：

- 注意子绝父相，子元素设置了定位，父元素也要设置

- 熟悉使用 background 属性的综合写法：

  ```
  background: rgba(0, 0, 0, .5) url(Materials/arr.png) no-repeat center;
  ```

- 设置经过盒子时特定div显示：在mask div的父元素上设置`:hover`：

  ```
  .tudou:hover .mask {
    display: block;
  }
  ```

  











